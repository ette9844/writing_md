## 파일 업로드
### 파일 업로드 버튼
```html
<input name="f1" type="file">
```
input type을 file로 설정한다.

업로드 버튼을 포함하고 있는 form 태그의  enctype 속성을 multipart/form-data로 변경해줘야한다. method도 post방식으로 변경.

```html
<!--default-->
<form enctype="application/x-www-form-urlencoded">

<!--multipart/form-data로 변경-->
<form enctype="multipart/form-data"
	  method="post">
```

request.getInputStream() : message body의 내용을 가져온다.


파일 업로드 관련 대표적인 라이브러리는
cos.jar
*Apache Commons Upload*
등이 있다. 

cos.jar는 업로드된 text의 내용과 file의 내용을 구분하기 용이하지만 apache commons upload는 이를 잘 구분하지 못한다.

반면에, 업로드된 파일이 덮어쓰기 되어버려 파일 관리가 Apache Commons Upload 보다 불편하다.


## cos.jar 를 사용한 파일 업로드
[cos maven repository 링크](https://mvnrepository.com/artifact/servlets.com/cos/05Nov2002)

cos.jar의 [MultipartRequest](http://www.servlets.com/cos/javadoc/com/oreilly/servlet/MultipartRequest.html) 클래스의 생성자를 통해 파일 업로드

**MultipartRequest**(javax.servlet.http.HttpServletRequest **request**, java.lang.String **saveDirectory**)

Constructs a new MultipartRequest to handle the specified request, saving any uploaded files to the given directory, and limiting the upload size to 1 Megabyte. If the content is too large, an IOException is thrown. This constructor actually parses the multipart/form-data and throws an IOException if there's any problem reading or parsing the request.

**Parameters:**

`request`  - the servlet request.

`saveDirectory`  - the directory in which to save any uploaded files.

**Throws:**

`java.io.IOException`  - if the uploaded content is larger than 1 Megabyte or there's a problem reading or parsing the request.




<!--stackedit_data:
eyJoaXN0b3J5IjpbLTU0OTY5NjEyLDEwOTYyNTAxNzIsMTI3OT
YzMjk4MSwxNzYxNjUxMjQ5LC0xOTU0OTU3OTA4LDE4MTY5MDYw
MzAsLTIwODg3NDY2MTJdfQ==
-->